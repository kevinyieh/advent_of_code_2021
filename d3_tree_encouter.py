def numTrees(arr, dR, dC):
    mat = [list(row) for row in arr]
    cols = len(mat[0])
    r = c = count = 0
    while r < len(mat):
        if mat[r][c] == "#":
            count += 1
        r, c = r+dR, (c+dC)%cols
    return count

arr = ["....#...##.#.........#....#....","#.......#...#...#.#............","#..#..#.#.##....#.#........#...","........##...................#.","........#...##...#.#.###.......","##............#...#.....#.##...","...........#....###...#.....#..",".......#......#..##..#.....#...","..#.#..#....#.........#...#..#.",".........##......#.....##..##..","........#.....#....#..##......#","..#..#.......#..............#..",".....#.#.......................",".#.#....#.........#............",".......#.....#.###.............","......##......#...........#..#.",".#...............##...#........",".....#..##........###.........#","#...........#..#............#..",".........#....#..#.#......#....",".......#.........#..##.........",".##.....#..................#...","....#............#.#....#.....#","..#....#...##....#...#.#...#...","..........#................#.#.","#...#.#.#.####..#.#..........#.","..#...#.##......#...........#..","..#.....#...#.......#......#..#","..............#.......#........",".#..#..........#.....#...#..#.#","#........#...#......#.......#..","#..................#...........","..#...#........#...#..#........","..............#.....#.....#..#.","#.#.......#..............##.##.","....#.#.....##....#...........#","......#....#...#..#.......#....","....#..#.#.....#..##.....#....#","...........#.......#.#.#.......","#.......#..##........#..#......",".........#.##..#..............#","...........#............###.#..","..#.....#.....##...#.........#.","....##............##........#..",".....###..........#......##....","#...##..#..#..........#........","....#.....#.......#..#.#...##..",".#....#........#.#.........#.#.","##...#.#.....#......#..........",".....##.....#....#.....###.#..#","..............#..###..#...#..#.","....#...#....#.............#.#.",".#.........#.....#........#.##.","....#.........#..........#.....",".......#........#.#.#..........","#........##....#.........#.....","..##..........#....#.#...#....#","#...#.#......#..##..........#.#",".....#..#...#..#...............","#...#..............#...........",".#...#....#..##.....#....#.#...",".#...#.......#...#..#.##....#..","#....#........#....#...#.......","#..#......#.....#.....#..##....","......#.#....##....##..#...#...","..#....#.#.###..............#..",".#.##.......#.#.#..#...#..#....","..#..........#.#....#..#.#....#","..........#...#...#..........#.","..........#.....#.#..#..#....##",".#.#...##...#...........####...","........##..#.#..........#.##.#","#......###...........#...#.....","..#.#....##.........##....#....","#....#.##..##..#..#.....#.....#",".##.....##....##....#.......#..","#...#.....##....#..........#...","............#.#.##....#....#...","....#............#.....#......#","....................#..........","..#....................#..#....","....#.....#........#..##...#...","#.....#.#....................##",".#....#.#.#...#..........#....#","....#...#......#...#.....##...#",".....#.........................",".......#..#.#...#...#...#.....#","...#......#.##.#...#..#...##.#.","...........................#..#","..#.#.....#........##..........","....#...##........#.#.#..#...##","..##.....#..###.........##.##..",".#..#.....#...#.............#..","#..............##...#....##....",".##......#.#............#......",".............##...#.#.......#..",".........#..#..#...............","........##......#....##........","...#.........#.#.#.............","#..........#......#......#..#..",".............##.#.#..#.#.#...#.",".....#.........#...............","..##.#..#.....##..#........#.#.",".#..........#.#.......#......##",".#........................#....","#....#....#...#..#......#......","........#.......#......#.....#.",".....#....##..#...###...#....#.","....#.........#....#......#....",".............#...#....#.......#",".....#.........#..#.#..........",".........#..#........#.#.#.....","......#.##......#....#.#.##.#..",".#...#.#...#...#.#......#....##",".#................#......#.....","#.#.#...............#..........",".....#.#.......#...#........#..","#...#.#.#.##..#...........#..#.",".............###.........#....#",".#.....#.......##....##.......#","....#...#.......#.##.....#.....","...........##.........#...#....","..............#.#..#.....#..#..","#.#...#..#.#.........#......#.#","#.##.....##....#........#.#.#.#","##.#.###.........##.......#..#.","#.....#.....................#..",".........##........#...........",".###........##....#...#........","....#.#........##...........#..","..........#.....#..........#..#","......#..............#......#..",".....#...#......#...#...#......","..........#.#..#....#...#..###.","#..##........#................#","..#............................",".....#.........#.#.............","........#...#.....#...##......#","..#........#................#..","......#....#..#......#.........","...........##....#..#.#........",".....#.............###.........","#............#......#..#.......","..#..#.................#..#..##",".......#......#.....#........#.","....................#..#.##...#",".#..##...............##...#....","...#...#....#........#.........",".....##...#.....###............",".###.........#........#.....##.",".............#...#.............","...#.#...............#..##..#.#","...#...............#..#.....#..","....#.#..................#...#.","..........#...........#.#...###","#...#......#................#..","...#.#.......#...#......#.##...","......#..........#.............","##.......#.##.#...........#....","......#...#.#.....#............",".#.....#.....#.....#.........#.","..................#............",".#.#.#.....#......#.##.........",".......#..##.##......#..#....#.","...#.#.#......#...#........#...","..#............#......#.......#","..#......#........#.........#..","..#..#.#.#.....#.............#.","..#.#..##......#...#...##......",".##...#....##.#.#...........#..","..............#..#...#....#....",".......#.#........#............",".....##..###........#..........","......................#........","..##....#....#.................",".##.#.###.#........#.##..#...#.","##................#...........#","....#..##.....##...............",".#.....#..#............#.....#.","#.........#..............#.....","...##.#......#...#.............","................#..............","...#.....#....##...#..#....#...","..............##..#...#.##..#..","......................#..#....#",".......#....#..#.##.........#.#","#...#........##.......#........","...##...............#.....#....",".##...##...#...................",".........##.#...#.........#....","............#............#..#..",".............................#.","....#.#....#...................","......#......#...#..##.........","#........#.#.#.#.#......#....#.",".#.........#.#...#......#..#.#.","..............#....##.........#",".#.......#..#....#.#.#....#....","...###.#.#..#...#....#....#....","#........#....................#","......#...##.###..#..##...#....",".....#........#.......#........","#..#...........#.#.............","....##.#...#..##............##.","#.#..##..#...#...#.....#.......","..#.............#.##..#...#.##.",".#.....##.#..#...#...........#.","....#...#....................##","....##......#.###......#......#","...#...#.........#..#.##....#..","#......#..#....###.........#...","#...........##.............#.#.","#..............##....#......#..",".........#...#.#...#...#.......","....#....#............#.......#","........#...#....#......##.....","..........#.#..#.........#.....","#........#.##....##......#.....","...#.......#...................","###...#...#..#.##....#.....#...","........##..........#.##..#....",".....#......#..#.....#.....#.#.","...#..#..##..###.....##.#......","#..#......##...#............#..","#............#....#..#.........","#........#.......#......#..##.#","...#.#.........#.#.............","#..............#..............#","#.#......#..........##.........","#..##...........#..##...#......",".....#.#.....#......#.....#.#.#",".#.##...#...##...........#....#","#.............#........#.......","..##.............#...#.........","....#.#......###....#..........","...#..#.....#..##.#....#...#.#.",".............##................","#.#............#........#..#.#.",".#......#.....#...........#....","...#.........#...........#.##..",".....#...#.....#..#..........#.","........#.#...............#.#..",".......#..#..#.....#.......##..",".#...#...#..#...##...#.........","..........##....#..#.##..#.....","....#.................#...#....",".........#...#......#....#....#",".........#..#...#.##........##.","#.#....##.......#.#............","##.......##..................#.","......#...#......##............","##.#...#.#...........#..#......",".........#.........#..#.#...#..",".#...#.......#.#...###.........","................#.#.....#......","..#...#.....#........#.........",".........##.###.#.#.....#...#..","#..#..........#....#.#...#...##","##.#.#....#..##.............#.#",".###....#..#...............##..","............#......#.#.#....#..","........#...#..#...#...........","##.........#................#..","...###...#.#..#...#..........##","...#......#......##........#...",".......#............#..........",".....#.....##....#.....###.....",".#...#...#.....#..#..#....#..#.","#.#........#..#.......##...#.##",".....#.....##..#.##........#..#",".....#...#...........#.........","..#....#.#...#..#....##...#...#","...........#...##.........#....","..#....#....##........#.####...","#.............#.#.............#","...................#.....#.#..#",".#....#.#.............#.#......","#...........#............#.#...","..#.........#.#....#.......##..","#....####......#...#......#....","....##....#...................#","....#.##....#.............#....",".........##........#.....#..#..","............#...#..............","............#..##....#.....##.#","............#.....#......#.....","........#..#........##.#.......","...#.#........#..............#.","............#.........#..#.#...","................#.............#","..##..........##......#.#......","..#..#.##....#.........#...#...","...........##...#.#.#..........",".#.#.......#.#...#.........#...",".........#..#........#..#.#....","..........##..#.##....#....#...","....#...............#.......#..","##..........##.................","....#.#.#.....#..........##.#..","..............#.##..........##.","##...............#...#..#......","..#..#..........#......#.......","#...#..##.#.#..................","....#....##......##.#...#....##",".#...#.#....##.............#..#","................#......###.....","..#..#.............#.#.......#.","..#..................#.......#.",".....#.......#....#.##...#.##..",".....##.......#......#..#......","#..#.......#........#..........","..#...#..#....#.........#......","#..#..#......##..#.##....####..","......##.#.....#..#.......#....",".##...#.....#..#...#.#.........","#.....#........###....#...#..#.",".#....#.#..#......#............",".........#..#..#.....#........#","..#.......#..........#..#......","......#.......##.#....#.#.#....",".#............#.....#.......#..","...#..#...............#........",".....#........................."]

deltas = [[1,1],[1,3],[1,5],[1,7],[2,1]]

prod = 1
for dR,dC in deltas:
    prod*=numTrees(arr,dR,dC)
print(prod)